# This is a TOML document

title = "TOML config for our cy-awsmgr lambda precursor stack"
awsprofile = 'franks'

[names]
s3_bucket_name = 'cy-awsmgr-bucket'
lambda_fun_name = 'SaveDateTimeToS3'
lambda_role = 'cy-awsmgr-lambda-ex'
lambda_pol_name = 'cy-awsmgr-allow-lambda-s3'

[json_documents]
lambda_policy_doc = """
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Principal": {
                "Service": "lambda.amazonaws.com"
            },
            "Action": "sts:AssumeRole"
        }
    ]
}
"""

cy-awsmgr-allow-lambda-s3 = """
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "s3:PutObject"
      ],
      "Resource": "arn:aws:s3:::{{ s3_bucket_name }}/*"
    }
  ]
}
"""

[paths]

tmp_dir = "{{ HOME }}/tmp"
lambda_dir = "{{ PRJ_ROOT_DIR }}/src/lambda"
lambda_func = "lambda_function.py"
lambda_func_path = "{{ lambda_dir }}/{{ lambda_func }}"